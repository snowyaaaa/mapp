// ==UserScript==
// @name         TEST NEW MAP
// @namespace    http://tampermonkey.net/
// @version      2024-02-22:1
// @description  try to take over the world!
// @author       Artak and Endless Night : beta testers Sallbet
// @match      *://pixelplanet.fun/*
// @match      *://fuckyouarkeros.fun/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// ==/UserScript==
const _0x2ce847=_0x2f02;(function(_0x53795f,_0x3cddd0){const _0x5ecf05=_0x2f02,_0x44ed19=_0x53795f();while(!![]){try{const _0x36c462=parseInt(_0x5ecf05(0xa8))/0x1*(-parseInt(_0x5ecf05(0xc4))/0x2)+-parseInt(_0x5ecf05(0x7e))/0x3*(-parseInt(_0x5ecf05(0xc6))/0x4)+parseInt(_0x5ecf05(0xcb))/0x5*(-parseInt(_0x5ecf05(0xaa))/0x6)+parseInt(_0x5ecf05(0xe9))/0x7+parseInt(_0x5ecf05(0x9f))/0x8*(parseInt(_0x5ecf05(0xb6))/0x9)+parseInt(_0x5ecf05(0x8a))/0xa+parseInt(_0x5ecf05(0x7f))/0xb;if(_0x36c462===_0x3cddd0)break;else _0x44ed19['push'](_0x44ed19['shift']());}catch(_0x4ab80d){_0x44ed19['push'](_0x44ed19['shift']());}}}(_0x3c54,0x5a35e));class IMG{constructor(_0x252724,_0x4d498f,_0x4ebdcf,_0x2a69f4,_0x5c9535,_0x42271d){const _0x42ca50=_0x2f02,_0x8436c8=document[_0x42ca50(0x96)](_0x42ca50(0xeb));_0x8436c8['width']=_0x5c9535,_0x8436c8[_0x42ca50(0xef)]=_0x42271d,this[_0x42ca50(0xce)]=_0x252724,this[_0x42ca50(0x9a)]=_0x2a69f4,this['x']=_0x4d498f,this['y']=_0x4ebdcf,this['width']=_0x5c9535,this[_0x42ca50(0xef)]=_0x42271d,this[_0x42ca50(0x94)]=_0x8436c8,this[_0x42ca50(0xca)]=[],this['ctxErr']=this[_0x42ca50(0x94)]['getContext']('2d'),this[_0x42ca50(0xf6)]=this[_0x42ca50(0x9a)][_0x42ca50(0x75)]('2d'),this[_0x42ca50(0xe2)]=this[_0x42ca50(0xf1)](this['data']),this['ctxData'][_0x42ca50(0xcc)]=![],this['ctxData'][_0x42ca50(0x99)]=![],this[_0x42ca50(0xf6)][_0x42ca50(0xe7)]=![],this['ctxData']['msImageSmoothingEnabled']=![],this[_0x42ca50(0x89)][_0x42ca50(0xcc)]=![],this[_0x42ca50(0x89)][_0x42ca50(0x99)]=![],this['ctxErr'][_0x42ca50(0xe7)]=![],this[_0x42ca50(0x89)][_0x42ca50(0xf2)]=![];}[_0x2ce847(0xf1)](_0x2b0da7){const _0x275d06=_0x2ce847;return _0x2b0da7[_0x275d06(0x75)]('2d')[_0x275d06(0xbc)](0x0,0x0,this['width'],this[_0x275d06(0xef)]);}['GetCtx'](_0x109e72){const _0x422e65=_0x2ce847;return _0x109e72[_0x422e65(0x75)]('2d');}[_0x2ce847(0xe5)](_0x16c72f,_0x3517c9){const _0x33fa21=_0x2ce847;if(_0x16c72f<0x0)_0x16c72f=0x0;else{if(_0x16c72f>this['width'])_0x16c72f=this['width'];}if(_0x3517c9<0x0)_0x3517c9=0x0;else{if(_0x3517c9>this[_0x33fa21(0xef)])_0x3517c9=this[_0x33fa21(0xef)];}return this['width']*_0x3517c9+_0x16c72f;}[_0x2ce847(0xc7)](_0x4573e7,_0x355313,_0x5b7b6c){return Array['from'](_0x4573e7,_0x52f600=>_0x52f600[this['GetIndex'](_0x355313,_0x5b7b6c)]);}[_0x2ce847(0x8f)](_0x2a7f9b,_0x4d88fd){const _0x4a930a=_0x2ce847;return Array[_0x4a930a(0xc0)](Array(0x4),(_0x4753a7,_0x1ace22)=>{const _0xa4b856=_0x4a930a;return _0x2a7f9b[_0xa4b856(0x9a)][_0x4d88fd*0x4+_0x1ace22];});}[_0x2ce847(0x8e)](_0x4e0b57,_0x39faef,_0x45c366,_0x53fb2f){const _0x385af2=_0x2ce847;_0x4e0b57['forEach']((_0x3d8afa,_0x143707)=>_0x3d8afa[this[_0x385af2(0xe5)](_0x39faef,_0x45c366)]=_0x53fb2f[_0x143707]);}[_0x2ce847(0x8c)](_0x4c340e,_0x41e73e,_0x143b61){const _0x277830=_0x2ce847;this['ctxErr'][_0x277830(0x86)]=_0x143b61,this['ctxErr'][_0x277830(0x77)](_0x4c340e,_0x41e73e,0x1,0x1);}['imageToGrayscale'](_0x3ab5e8){const _0x689844=_0x2ce847;let _0x1f2f09=[[],[],[],[]];for(let _0x4f3c63=0x0;_0x4f3c63<_0x3ab5e8[_0x689844(0x9a)][_0x689844(0xee)];_0x4f3c63+=0x4){_0x1f2f09[0x0][_0x689844(0x80)](_0x3ab5e8[_0x689844(0x9a)][_0x4f3c63]),_0x1f2f09[0x1][_0x689844(0x80)](_0x3ab5e8[_0x689844(0x9a)][_0x4f3c63+0x1]),_0x1f2f09[0x2][_0x689844(0x80)](_0x3ab5e8[_0x689844(0x9a)][_0x4f3c63+0x2]),_0x1f2f09[0x3][_0x689844(0x80)](_0x3ab5e8[_0x689844(0x9a)][_0x4f3c63+0x3]);}return[..._0x1f2f09];}[_0x2ce847(0x90)](_0x32605b,_0x3fe325){const _0x8a05a6=_0x2ce847;for(let _0x3dbca6=0x0;_0x3dbca6<_0x3fe325[0x0][_0x8a05a6(0xee)];_0x3dbca6++){_0x32605b[_0x8a05a6(0x9a)][_0x3dbca6*0x4]=_0x3fe325[0x0][_0x3dbca6],_0x32605b[_0x8a05a6(0x9a)][_0x3dbca6+0x1*0x4]=_0x3fe325[0x1][_0x3dbca6],_0x32605b[_0x8a05a6(0x9a)][_0x3dbca6+0x2*0x4]=_0x3fe325[0x2][_0x3dbca6],_0x32605b[_0x8a05a6(0x9a)][_0x3dbca6+0x3*0x4]=_0x3fe325[0x3][_0x3dbca6];}return _0x32605b;}['AplyPerPixel'](_0x4c05ca){const _0x4f0f8c=_0x2ce847;let _0x919b3a=this['GetImageData'](),_0x53ef1b=this[_0x4f0f8c(0xda)](_0x919b3a);for(let _0x22f282=0x0;_0x22f282<this[_0x4f0f8c(0xef)];_0x22f282++){for(let _0x1267cb=0x0;_0x1267cb<this[_0x4f0f8c(0xcf)];_0x1267cb++){let _0x38f247=this[_0x4f0f8c(0xc7)](_0x53ef1b,_0x1267cb,_0x22f282);this[_0x4f0f8c(0x8e)](_0x53ef1b,_0x1267cb,_0x22f282,_0x4c05ca(_0x38f247));}}return this[_0x4f0f8c(0x90)](_0x919b3a,_0x53ef1b);}[_0x2ce847(0x78)](_0x4d21e6,_0x1ab42b,_0x9bc7f1,_0x23927a,_0x39d1ed){const _0x535da7=_0x2ce847,_0x588341=this[_0x535da7(0x8f)](this[_0x535da7(0xe2)],this[_0x535da7(0xe5)](_0x4d21e6,_0x1ab42b));if(_0x588341[0x3]==0x0)return;else{if(_0x588341[0x0]===_0x9bc7f1&&_0x588341[0x1]===_0x23927a&&_0x588341[0x2]===_0x39d1ed)this[_0x535da7(0x8c)](_0x4d21e6,_0x1ab42b,'rgba(0,\x20255,\x200,\x20255)');else this[_0x535da7(0x8c)](_0x4d21e6,_0x1ab42b,_0x535da7(0xd5));}}[_0x2ce847(0xaf)](_0x390ad9){for(let _0x4f3b8a in _0x390ad9){_0x390ad9[_0x4f3b8a]=0xff-_0x390ad9[_0x4f3b8a];}return _0x390ad9;}}class Standartsettings{constructor(){const _0x18a191=_0x2ce847;this[_0x18a191(0xf5)]=[];}}let canvass=[_0x2ce847(0x7b),_0x2ce847(0x73)],canvasA=[],Scale=0x1,stak=0x0,oldCords=[],settings=new Standartsettings();window[_0x2ce847(0x9c)]['addListener']('setscale',(_0x10e974,_0x59d9c2)=>{Scale=_0x10e974,DrawAllTemp();});function createElement(_0x17f8e1,_0x4ef41d){const _0x15ceb1=_0x2ce847;let _0x3949e1=document[_0x15ceb1(0x96)](_0x17f8e1);for(let _0x74f6c2 in _0x4ef41d){_0x3949e1[_0x74f6c2]=_0x4ef41d[_0x74f6c2];}document[_0x15ceb1(0xa2)]['append'](_0x3949e1);}function findReactRootContainerEl(){const _0x48cb78=_0x2ce847;return document[_0x48cb78(0xe3)](_0x48cb78(0x88));}function isStoreFromRedux(_0x1b6a11){const _0x4c24cc=_0x2ce847;if(typeof _0x1b6a11!==_0x4c24cc(0xa9))return![];if(!_0x1b6a11['dispatch'])return![];if(!_0x1b6a11['getState'])return![];if(!_0x1b6a11['subscribe'])return![];return!![];}function getStoreFromReactInternalEl(_0x74d745){const _0xb4cc9f=_0x2ce847;if(_0x74d745[_0xb4cc9f(0xad)]!==0x0||!_0x74d745[_0xb4cc9f(0xae)])return void 0x0;if(_0x74d745[_0xb4cc9f(0xae)][_0xb4cc9f(0xad)]!==0xa)return void 0x0;if(!_0x74d745[_0xb4cc9f(0xae)][_0xb4cc9f(0xed)])return void 0x0;const _0x573617=_0x74d745[_0xb4cc9f(0xae)]['memoizedProps'][_0xb4cc9f(0x98)]?.[_0xb4cc9f(0x82)];if(!isStoreFromRedux(_0x573617))return void 0x0;const _0x1d7701=_0x74d745['memoizedProps']?.[_0xb4cc9f(0x82)];if(!isStoreFromRedux(_0x1d7701))return void 0x0;if(_0x573617!==_0x1d7701)return void 0x0;return _0x1d7701;}function findStoreInRoot(_0x1277ae){const _0x682257=_0x2ce847,_0x3106ed=Object[_0x682257(0xb2)](_0x1277ae)[_0x682257(0x81)](_0x4b6c8a=>_0x4b6c8a[_0x682257(0xb4)](_0x682257(0xdb)))[0x0];if(!_0x3106ed)throw new Error(_0x682257(0xd8));const _0x59f79d=_0x1277ae[_0x3106ed];let _0x546ac4=_0x59f79d;while(_0x546ac4[_0x682257(0xae)]){const _0x5de03c=getStoreFromReactInternalEl(_0x546ac4);if(_0x5de03c)return _0x5de03c;_0x546ac4=_0x546ac4[_0x682257(0xae)];}return void 0x0;}function findPageReduxStore(){const _0x420b95=_0x2ce847,_0x5e56ab=findReactRootContainerEl();if(!_0x5e56ab)throw new Error(_0x420b95(0x85));const _0x360aee=findStoreInRoot(_0x5e56ab);if(!_0x360aee)throw new Error('Couldn\x27t\x20find\x20Redux\x20store');return _0x360aee;}function ErrorLog(_0x3f1852,_0x4ec767){const _0x24c305=_0x2ce847;console[_0x24c305(0xb0)](_0x3f1852+_0x24c305(0x76)+_0x4ec767),alert(_0x3f1852+_0x24c305(0x76)+_0x4ec767);}function WarnLog(_0x35ed5b,_0x2d7881){const _0x372355=_0x2ce847;console['warn'](_0x35ed5b+_0x372355(0x76)+_0x2d7881);}function GetID(_0xb547ef){const _0x4e40ae=_0x2ce847;return document[_0x4e40ae(0xe3)](_0xb547ef);}function dispatch(_0x433272){const _0x5a6be4=findPageReduxStore();_0x5a6be4['dispatch'](_0x433272);}function SlectColorIndex([_0xb2a10c,_0x2cef5d,_0x3c672d,_0x3a66b9]){const _0x34d2ef=_0x2ce847;if(_0x3a66b9!==0xff)return;console['log'](_0xb2a10c,_0x2cef5d,_0x3c672d,_0x3a66b9);const _0x2b8455=GetCanvasState('palette')[_0x34d2ef(0xe0)];for(let _0x2a1bc5=0x0;_0x2a1bc5<_0x2b8455[_0x34d2ef(0xee)];_0x2a1bc5+=0x3){if(_0x2b8455[_0x2a1bc5]===_0xb2a10c&&_0x2b8455[_0x2a1bc5+0x1]===_0x2cef5d&&_0x2b8455[_0x2a1bc5+0x2]===_0x3c672d)dispatch({'type':_0x34d2ef(0x87),'color':_0x2a1bc5/0x3});}}async function getChunkImageData(_0x219166){const _0x40a489=_0x2ce847,_0x2c18c1=await fetch('https://fuckyouarkeros.fun/chunks/'+GetCanvasState(_0x40a489(0xec))+'/'+_0x219166[0x0]+'/'+_0x219166[0x1]+'.bmp'),_0xcd621b=await _0x2c18c1[_0x40a489(0xbb)](),_0x5a9811=new Uint8Array(_0xcd621b),_0x36ea5c=new Uint8Array([..._0x5a9811,...new Uint8Array(0x10000-_0x5a9811[_0x40a489(0xee)])[_0x40a489(0xc2)](0x0)]);let _0x3ee9fe=[];const _0xc5c371=GetCanvasState(_0x40a489(0x95))[_0x40a489(0xe0)];_0x36ea5c[_0x40a489(0x91)](_0x22cac2=>{const _0x1282e0=_0x40a489,_0x373ad0=_0x22cac2*0x3;_0x3ee9fe[_0x1282e0(0x80)](_0xc5c371[_0x373ad0],_0xc5c371[_0x373ad0+0x1],_0xc5c371[_0x373ad0+0x2],0xff);});const _0xb21cd3=new ImageData(new Uint8ClampedArray(_0x3ee9fe),0x100,0x100),_0x5c828f=GetCanvasState(_0x40a489(0xe6))/0x2;return[_0xb21cd3,_0x219166[0x0]*0x100-_0x5c828f,_0x219166[0x1]*0x100-_0x5c828f];}async function getChunkId(_0x4366e7){const _0x47940a=_0x2ce847,_0x30eac4=GetCanvasState(_0x47940a(0xe6))/0x2;return[Math[_0x47940a(0xc5)]((_0x4366e7[0x0]+_0x30eac4)/0x100),Math[_0x47940a(0xc5)]((_0x4366e7[0x1]+_0x30eac4)/0x100)];}function _0x3c54(){const _0x54e4da=['canvasId','memoizedProps','length','height','onmousedown','GetImageData','msImageSmoothingEnabled','GetTeampletList','split','images','ctxData','getElementsByTagName','cal','s/SELECT_HOLD_PAINT','getContext','\x20\x20||-->\x20','fillRect','ChekAndSet','all','onmouseup','mine','Anonymous','onload','78aFitPJ','2338094nmQsUO','push','filter','store','getItem','style','Couldn\x27t\x20find\x20React\x20root\x20container','fillStyle','SELECT_COLOR','app','ctxErr','516380oxkKAs','log','SetPixdata','crateCanvas','SetPix','GetPixColorData','GrayscaleToImage','forEach','https://raw.githubusercontent.com/TheElderFallouts/wwbtp/main/PP/templates/','display','errors','palette','createElement','mute','value','mozImageSmoothingEnabled','data','some','pixelPlanetEvents','CANVAS','GetObjectMid','24bFvYLC','round','putImageData','body','hover','crateAllCanvass','getNewImage','none','removeEventListener','1AXZzMM','object','12ekDyiV','#95a3b0','resizeCanvass','tag','child','InvertColor','error','the\x20width\x20or\x20height\x20is\x20too\x20small.\x20-->>||\x20','keys','image-rendering:\x20pixelated;\x20border-style:\x20solid;\x20position:\x20absolute;\x20border-width:\x201px;\x20right:\x200px;','startsWith','registerPixelUpdates','786330kbCIoY','pageX','https://raw.githubusercontent.com/TheElderFallouts/wwbtp/main/PP/','Draw','size','arrayBuffer','getImageData','pageY','Клавиша\x20Shift\x20не\x20нажата','innerHeight','from','innerHTML','fill','innerWidth','899014tEPDbo','floor','88716AAwtjx','GetPixColor','addEventListener','clearRect','chunks','1434540iADcAX','imageSmoothingEnabled','canvasIdent','name','width','mousemove','setItem','gui','load','crossOrigin','rgba(255,\x200,\x200,\x20255)','Клавиша\x20Shift\x20нажата','then','couldn\x27t\x20find\x20internal\x20react\x20root','img','imageToGrayscale','__reactContainer','.json','view','loadProgress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20blink\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20opacity:\x200.0;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x2050%\x20{\x20opacity:\x201.0;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20opacity:\x200.0;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#cal\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20blink\x205s\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgb','drawImage','RealData','getElementById','head','GetIndex','canvasSize','webkitImageSmoothingEnabled','getState','2029083TYwlrF','progress','canvas'];_0x3c54=function(){return _0x54e4da;};return _0x3c54();}async function extractImageData(_0x36e1a7,_0x372fc7,_0x195397,_0x52d951,_0x5b84ec){const _0xad49a6=_0x2ce847;_0x36e1a7[_0xad49a6(0xe1)](_0x372fc7,_0x195397,_0x52d951,0x100,0x100,0x0,0x0,0x100,0x100);const _0x3ac95b=_0x36e1a7[_0xad49a6(0xbc)](0x0,0x0,0x100,0x100)[_0xad49a6(0x9a)],_0x1b21bb=_0x5b84ec[_0xad49a6(0x9a)];for(let _0xa9ff1f=0x0;_0xa9ff1f<_0x3ac95b['length'];_0xa9ff1f+=0x4){if(_0x3ac95b[_0xa9ff1f+0x3]===0x0)_0x1b21bb[_0xa9ff1f]=0x0,_0x1b21bb[_0xa9ff1f+0x1]=0x0,_0x1b21bb[_0xa9ff1f+0x2]=0x0,_0x1b21bb[_0xa9ff1f+0x3]=0x0;else _0x3ac95b[_0xa9ff1f+0x0]===_0x1b21bb[_0xa9ff1f+0x0]&&_0x3ac95b[_0xa9ff1f+0x1]===_0x1b21bb[_0xa9ff1f+0x1]&&_0x3ac95b[_0xa9ff1f+0x2]===_0x1b21bb[_0xa9ff1f+0x2]?(_0x1b21bb[_0xa9ff1f]=0x0,_0x1b21bb[_0xa9ff1f+0x1]=0xff,_0x1b21bb[_0xa9ff1f+0x2]=0x0,_0x1b21bb[_0xa9ff1f+0x3]=0xff):(_0x1b21bb[_0xa9ff1f]=0xff,_0x1b21bb[_0xa9ff1f+0x1]=0x0,_0x1b21bb[_0xa9ff1f+0x2]=0x0,_0x1b21bb[_0xa9ff1f+0x3]=0xff);}return new ImageData(_0x1b21bb,0x100,0x100);}async function FillImageWithChunks(_0x5beddc,_0x2acd18){const _0x3c8a61=_0x2ce847;if(stak>0x0)return;else stak++;const _0x2ccd28=0x100,{x:_0x3a67e1,y:_0x6d1b35}=_0x5beddc,[_0x1ce4ee,_0x22ced1]=_0x2acd18,_0x3d182e=0x2,_0x37670e=GetCanvasState('canvasSize')/0x2,_0x2f6e11=_0x5beddc[_0x3c8a61(0x94)]['getContext']('2d'),_0x3ddfaa=document[_0x3c8a61(0x96)](_0x3c8a61(0xeb)),_0x225339=_0x3ddfaa['getContext']('2d');_0x3ddfaa[_0x3c8a61(0xcf)]=0x100,_0x3ddfaa[_0x3c8a61(0xef)]=0x100;const _0xd4f86e=Math[_0x3c8a61(0xc5)]((_0x1ce4ee-_0x3a67e1)/_0x2ccd28)*_0x2ccd28-_0x3d182e*_0x2ccd28,_0xca0b9a=Math[_0x3c8a61(0xc5)]((_0x22ced1-_0x6d1b35)/_0x2ccd28)*_0x2ccd28-_0x3d182e*_0x2ccd28,_0x39707d=[];for(let _0x2f88f7=_0xd4f86e;_0x2f88f7<=_0xd4f86e+0x2*_0x3d182e*_0x2ccd28;_0x2f88f7+=_0x2ccd28){for(let _0x606239=_0xca0b9a;_0x606239<=_0xca0b9a+0x2*_0x3d182e*_0x2ccd28;_0x606239+=_0x2ccd28){_0x39707d['push']([_0x3a67e1+_0x2f88f7,_0x6d1b35+_0x606239]);}}const _0x57a0ee=_0x39707d['reduce']((_0x520612,_0x4045d7,_0x4925f8)=>{const _0x12c9f4=_0x3c8a61,_0xa622fe=getChunkId(_0x4045d7)[_0x12c9f4(0xd7)](async _0xaf289e=>{const _0x4d0b82=_0x12c9f4,[_0x509462,_0x1848ac]=_0xaf289e;if(!_0x5beddc[_0x4d0b82(0xca)][_0x4d0b82(0x9b)](([_0x58cdf6,_0xd5c55d])=>_0x58cdf6===_0x509462*0x100-_0x37670e&&_0xd5c55d===_0x1848ac*0x100-_0x37670e)){_0x5beddc[_0x4d0b82(0xca)][_0x4d0b82(0x80)]([_0x509462*0x100-_0x37670e,_0x1848ac*0x100-_0x37670e]);const [_0x2dd66f,_0x42f346,_0x1482b]=await getChunkImageData(_0xaf289e);_0x225339[_0x4d0b82(0xc9)](0x0,0x0,_0x3ddfaa[_0x4d0b82(0xcf)],_0x3ddfaa[_0x4d0b82(0xef)]);const _0x5edc55=await extractImageData(_0x225339,_0x5beddc[_0x4d0b82(0x9a)],(_0x3a67e1-_0x42f346)*-0x1,(_0x6d1b35-_0x1482b)*-0x1,_0x2dd66f);_0x2f6e11[_0x4d0b82(0xa1)](_0x5edc55,(_0x3a67e1-_0x42f346)*-0x1,(_0x6d1b35-_0x1482b)*-0x1);}});_0x520612['push'](_0xa622fe);if(_0x520612['length']===0xa||_0x4925f8===_0x39707d['length']-0x1)return[..._0x520612];return _0x520612;},[]);await Promise[_0x3c8a61(0x79)](_0x57a0ee),stak--;}function _0x2f02(_0x2e3b96,_0x2567ef){const _0x3c54c2=_0x3c54();return _0x2f02=function(_0x2f0295,_0x1ad79d){_0x2f0295=_0x2f0295-0x72;let _0x5e50b6=_0x3c54c2[_0x2f0295];return _0x5e50b6;},_0x2f02(_0x2e3b96,_0x2567ef);}function PixelUpData(_0x1d8500,_0x3ded70,_0x389a75,[_0x278910,_0x47775e],_0x39a217,_0x59adbc){const _0x277b84=_0x2ce847,_0x4154ad=_0x3ded70*0x100-_0x39a217+_0x278910-Math[_0x277b84(0xc5)](_0x278910/0x100)*0x100-_0x1d8500['x'],_0x1502b8=_0x389a75*0x100-_0x39a217+Math[_0x277b84(0xc5)](_0x278910/0x100)-_0x1d8500['y'];_0x47775e*=0x3,_0x1d8500['ChekAndSet'](_0x4154ad,_0x1502b8,_0x59adbc[_0x47775e+0x0],_0x59adbc[_0x47775e+0x1],_0x59adbc[_0x47775e+0x2]);}async function ChengPixel(_0x6d236,_0x2acf54,_0x2036e0){const _0x4556dd=_0x2ce847,_0x457e85=await GetCords(),_0x2e713f=GetCanvasState(_0x4556dd(0xe6))/0x2,_0x5c91a3=GetCanvasState('palette')[_0x4556dd(0xe0)],_0x40584f=await filterImagesByCord(settings[_0x4556dd(0xf5)],_0x457e85);for(let _0x4fabb9 of _0x40584f){_0x2036e0[_0x4556dd(0x91)]((_0x42ec30,_0x38752f)=>{PixelUpData(_0x4fabb9,_0x6d236,_0x2acf54,_0x2036e0[_0x38752f],_0x2e713f,_0x5c91a3);});}DrawAllTemp();}async function getNewImage(_0x517c37,_0x408723){const _0x3d06d3=_0x2ce847;try{return new Promise(_0x429dd5=>{const _0x52b5e3=_0x2f02;let _0x4a793e=_0x517c37+_0x408723,_0x401e3a=document[_0x52b5e3(0x96)](_0x52b5e3(0xd9));_0x401e3a[_0x52b5e3(0xd4)]=_0x52b5e3(0x7c),_0x401e3a[_0x52b5e3(0x7d)]=function(){const _0x518527=_0x52b5e3;let _0x2ffb7a=this[_0x518527(0xcf)],_0xfd588a=this[_0x518527(0xef)],_0x42f741=document['createElement']('CANVAS');_0x42f741['width']=this[_0x518527(0xcf)],_0x42f741[_0x518527(0xef)]=this[_0x518527(0xef)];let _0x2f33be=_0x42f741[_0x518527(0x75)]('2d');_0x2f33be[_0x518527(0xe1)](_0x401e3a,0x0,0x0),_0x429dd5([_0x42f741,_0x2ffb7a,_0xfd588a]);},_0x401e3a['src']=_0x4a793e;});}catch(_0x107b2b){ErrorLog(_0x107b2b,_0x3d06d3(0xa5));}}async function crateCanvas(_0x2cc324,_0xbffca1,_0x4e1314){const _0x4f8896=_0x2ce847;let _0x4814c1=_0x4f8896(0x8d);try{let _0x5a53a6=createElement(_0x4f8896(0x9d),{'width':_0xbffca1,'height':_0x4e1314,'id':_0x2cc324,'style':_0x4f8896(0xb3)});canvasA[_0x4f8896(0x80)]([GetID(_0x2cc324),GetID(_0x2cc324)['getContext']('2d')]);}catch(_0x4270dd){ErrorLog(_0x4270dd,_0x4814c1);}}async function resizeAllCanvass(_0x4b9c00,_0x210bfb,_0x13986b){const _0x47f340=_0x2ce847;let _0x1aa45a=0x46,_0x46d30d=_0x47f340(0xac);_0x4b9c00=_0x4b9c00+_0x13986b[0x0],_0x210bfb=_0x210bfb+_0x13986b[0x1];try{for(let _0x188713 in canvasA){if(_0x4b9c00<_0x1aa45a||_0x210bfb<_0x1aa45a)WarnLog(_0x47f340(0xb1),_0x46d30d),canvasA[_0x188713][0x0]['width']=_0x4b9c00<=_0x1aa45a?_0x1aa45a:_0x4b9c00=_0x4b9c00,canvasA[_0x188713][0x0][_0x47f340(0xef)]=_0x210bfb<=_0x1aa45a?_0x1aa45a:_0x210bfb=_0x210bfb;else _0x4b9c00>=window[_0x47f340(0xc3)]-_0x1aa45a||_0x210bfb>=window['innerHeight']-_0x1aa45a?(WarnLog('the\x20width\x20or\x20height\x20is\x20too\x20big.\x20-->>||\x20',_0x46d30d),canvasA[_0x188713][0x0][_0x47f340(0xcf)]=_0x4b9c00>=window[_0x47f340(0xc3)]-_0x1aa45a?window['innerWidth']-_0x1aa45a:_0x4b9c00=_0x4b9c00,canvasA[_0x188713][0x0][_0x47f340(0xef)]=_0x210bfb>=window[_0x47f340(0xbf)]-_0x1aa45a?window[_0x47f340(0xbf)]-_0x1aa45a:_0x210bfb=_0x210bfb):(canvasA[_0x188713][0x0][_0x47f340(0xcf)]=_0x4b9c00,canvasA[_0x188713][0x0][_0x47f340(0xef)]=_0x210bfb);canvasA[_0x188713][0x1][_0x47f340(0xcc)]=![];}localStorage[_0x47f340(0xd1)]('size',[canvasA[0x0][0x0]['width'],canvasA[0x0][0x0][_0x47f340(0xef)]]);}catch(_0x2d3e9c){ErrorLog(_0x2d3e9c,_0x46d30d);}}async function crateAllCanvass(){const _0x458e3b=_0x2ce847;let _0x17f45b=_0x458e3b(0xa4);try{for(let _0x2df613 in canvass){crateCanvas(canvass[_0x2df613],...localStorage[_0x458e3b(0x83)](_0x458e3b(0xba))[_0x458e3b(0xf4)](',')),canvasA[_0x2df613][0x1]['imageSmoothingEnabled']=![];}}catch(_0x38db44){ErrorLog(_0x38db44,_0x17f45b);}}async function GetTeampletList(_0x3c0b5c){const _0x14aaaf=_0x2ce847;try{return new Promise(_0x1dbf5f=>{const _0x3809d7=_0x2f02;fetch(_0x3c0b5c)[_0x3809d7(0xd7)](_0x1a8769=>{_0x1dbf5f(_0x1a8769['json']());});});}catch(_0x7052d8){ErrorLog(_0x7052d8,_0x14aaaf(0xf3));}}async function LOADAllImages(_0x3776f5){const _0x4c34d9=_0x2ce847;try{let _0x15ebea=await GetTeampletList(_0x4c34d9(0x92)+_0x3776f5+_0x4c34d9(0xdc));createElement(_0x4c34d9(0xea),{'id':_0x4c34d9(0xde),'max':Object[_0x4c34d9(0xb2)](_0x15ebea)[_0x4c34d9(0xee)],'value':'0','style':'position:\x20absolute;left:\x200px;right:\x200px;margin:\x200px\x20auto;top:\x200px;display:\x20block;padding:\x2011px;accent-color:\x20lime;'});for(let _0x7c6240 in _0x15ebea){settings[_0x4c34d9(0xf5)][_0x4c34d9(0x80)](new IMG(_0x15ebea[_0x7c6240]['name'],_0x15ebea[_0x7c6240]['x'],_0x15ebea[_0x7c6240]['y'],...await getNewImage(_0x4c34d9(0xb8)+_0x3776f5+'/',_0x15ebea[_0x7c6240][_0x4c34d9(0xce)]))),GetID('loadProgress')[_0x4c34d9(0x98)]=GetID(_0x4c34d9(0xde))[_0x4c34d9(0x98)]+0x1;}GetID(_0x4c34d9(0xde))[_0x4c34d9(0x84)][_0x4c34d9(0x93)]=_0x4c34d9(0xa6);}catch(_0x4e244c){console[_0x4c34d9(0xb0)](_0x4e244c),ErrorLog(_0x4e244c,'LOADAllImages');}}async function filterImagesByCord(_0x77e73,_0x55ff81){const _0x188cd8=_0x2ce847,_0x5838a2=[];for(const _0x48dac7 of _0x77e73){const _0x416429=await inImage(_0x48dac7,_0x55ff81);_0x416429&&_0x5838a2[_0x188cd8(0x80)](_0x48dac7);}return _0x5838a2;}async function inImage(_0x1f8759,_0x457f20){const _0x567fd4=_0x2ce847;return _0x457f20[0x0]>=_0x1f8759['x']&&_0x457f20[0x1]>=_0x1f8759['y']&&_0x457f20[0x0]<=_0x1f8759['x']+_0x1f8759[_0x567fd4(0xcf)]&&_0x457f20[0x1]<=_0x1f8759['y']+_0x1f8759[_0x567fd4(0xef)];}function GetZoom(){return Scale;}function GetObjectMid(_0x231775){const _0x39f6fc=_0x2ce847;try{return Array[_0x39f6fc(0xc0)]([_0x231775['width']/0x2,_0x231775[_0x39f6fc(0xef)]/0x2],_0x2f95d8=>Math[_0x39f6fc(0xa0)](_0x2f95d8));}catch(_0xda4aa9){ErrorLog(_0xda4aa9,_0x39f6fc(0x9e));}}function Draw(_0x4890e8,_0x18a12e,_0x2e25ea,_0xf16206,_0x169fa1){const _0x2f3d04=_0x2ce847;try{if(!_0x4890e8||!_0x18a12e||!_0x2e25ea[_0x2f3d04(0xee)]){ErrorLog('EMPTY',_0x2f3d04(0xb9));return;}_0x18a12e[0x1][_0x2f3d04(0xe1)](_0x4890e8,...Array[_0x2f3d04(0xc0)](GetObjectMid(_0x18a12e[0x0]),(_0x515078,_0x412550)=>Math[_0x2f3d04(0xa0)](_0x2e25ea[_0x412550]-_0x169fa1[_0x412550])*GetZoom()+_0x515078-GetZoom()/0x2),...Array[_0x2f3d04(0xc0)](_0xf16206,(_0x3f4aae,_0x293c46)=>_0x3f4aae*GetZoom()));}catch(_0x3393be){ErrorLog(_0x3393be,_0x2f3d04(0xb9));}}function GetCanvasState(_0x48e39d){const _0x5974f0=_0x2ce847;return State()['getState']()[_0x5974f0(0xeb)][_0x48e39d];}function State(){return findPageReduxStore();}function mute(){const _0x4eb701=_0x2ce847;if(!State()[_0x4eb701(0xe8)]()[_0x4eb701(0xd2)][_0x4eb701(0x97)])dispatch({'type':'s/TGL_MUTE'});}async function radChek(_0x5e0a51,_0x31d1c8,_0x7d528c){const _0x462cd1=_0x2ce847;return _0x31d1c8[0x0]-_0x7d528c<_0x5e0a51['x']&&_0x31d1c8[0x1]-_0x7d528c<_0x5e0a51['y']&&_0x31d1c8[0x0]+_0x7d528c>_0x5e0a51['x']+_0x5e0a51[_0x462cd1(0xcf)]&&_0x31d1c8[0x1]+_0x7d528c>_0x5e0a51['y']+_0x5e0a51[_0x462cd1(0xef)];}async function GetCords(){const _0x2895c1=_0x2ce847;return GetCanvasState(_0x2895c1(0xa3))?GetCanvasState(_0x2895c1(0xa3)):GetCanvasState(_0x2895c1(0xdd));}async function DrawAllTemp(){const _0x514067=_0x2ce847;let _0x34b1e0=await GetCords();const _0x777af5=await filterImagesByCord(settings[_0x514067(0xf5)],_0x34b1e0);for(let _0x21441c of _0x777af5){FillImageWithChunks(_0x21441c,_0x34b1e0),(_0x34b1e0[0x0]!=oldCords[0x0]||_0x34b1e0[0x1]!=oldCords[0x1])&&(oldCords=_0x34b1e0,mute(),SlectColorIndex(_0x21441c[_0x514067(0x8f)](_0x21441c['RealData'],_0x21441c[_0x514067(0xe5)](_0x34b1e0[0x0]-_0x21441c['x'],_0x34b1e0[0x1]-_0x21441c['y']))),dispatch({'type':_0x514067(0x74),'value':0x0,'immediate':0x0}));}canvasA[0x0][0x1]['clearRect'](0x0,0x0,canvasA[0x0][0x0][_0x514067(0xcf)],canvasA[0x0][0x0][_0x514067(0xef)]),canvasA[0x0][0x1][_0x514067(0x86)]=_0x514067(0xab),canvasA[0x0][0x1]['fillRect'](0x0,0x0,canvasA[0x0][0x0][_0x514067(0xcf)],canvasA[0x0][0x0][_0x514067(0xef)]),canvasA[0x1][0x1][_0x514067(0xc9)](0x0,0x0,canvasA[0x0][0x0][_0x514067(0xcf)],canvasA[0x0][0x0][_0x514067(0xef)]);let _0x286f91=settings[_0x514067(0xf5)][_0x514067(0x81)](_0x262a78=>radChek(_0x262a78,_0x34b1e0,0x1194));_0x286f91[_0x514067(0x91)](_0x35eafe=>Draw(_0x35eafe[_0x514067(0x9a)],canvasA[0x0],[_0x35eafe['x'],_0x35eafe['y']],[_0x35eafe[_0x514067(0xcf)],_0x35eafe[_0x514067(0xef)]],_0x34b1e0)),_0x286f91[_0x514067(0x91)](_0x384547=>Draw(_0x384547['errors'],canvasA[0x1],[_0x384547['x'],_0x384547['y']],[_0x384547[_0x514067(0xcf)],_0x384547[_0x514067(0xef)]],_0x34b1e0));}function handleShiftPress(_0x2b5c5c){const _0x26213e=_0x2ce847;_0x2b5c5c['shiftKey']?(console[_0x26213e(0x8b)](_0x26213e(0xd6)),dispatch({'type':_0x26213e(0x74),'value':0x0,'immediate':0x0})):console['log'](_0x26213e(0xbe));}window[_0x2ce847(0xb5)]((_0x16f582,_0x1fd7cf,_0x4ac6f5)=>ChengPixel(_0x16f582,_0x1fd7cf,_0x4ac6f5)),window['addEventListener'](_0x2ce847(0xd3),start);function start(){setTimeout(async()=>{const _0x2ec931=_0x2f02;await crateAllCanvass(),work();const _0x4bbd9c=document[_0x2ec931(0x96)](_0x2ec931(0x84));_0x4bbd9c[_0x2ec931(0xc1)]=_0x2ec931(0xdf);var _0x37c21f=document[_0x2ec931(0xe4)]||document[_0x2ec931(0x72)](_0x2ec931(0xe4))[0x0];_0x37c21f['appendChild'](_0x4bbd9c);let _0x448ace=GetCanvasState('canvasIdent');setInterval(()=>{const _0x586e6a=_0x2ec931;_0x448ace!==GetCanvasState('canvasIdent')&&(document[_0x586e6a(0xa7)](_0x586e6a(0xd0),CallToMove),document[_0x586e6a(0xa7)]('mousemove',DrawAllTemp),settings=new Standartsettings(),_0x448ace=GetCanvasState(_0x586e6a(0xcd)),work());},0x3e8);},0x3e8);}async function work(){const _0x1b6d67=_0x2ce847;if(!localStorage[_0x1b6d67(0xba)])localStorage[_0x1b6d67(0xd1)](_0x1b6d67(0xba),[0x1f4,0x12c]);await LOADAllImages(GetCanvasState(_0x1b6d67(0xcd))),await DrawAllTemp(),document[_0x1b6d67(0xc8)](_0x1b6d67(0xd0),DrawAllTemp),document[_0x1b6d67(0xc8)]('keydown',handleShiftPress),canvasA[canvasA[_0x1b6d67(0xee)]-0x1][0x0][_0x1b6d67(0xf0)]=_0x2d2653=>{const _0x32b268=_0x1b6d67;document[_0x32b268(0xa7)](_0x32b268(0xd0),DrawAllTemp);let _0x9ab11f=[];_0x9ab11f[0x0]=canvasA[0x0][0x0][_0x32b268(0xcf)]-(window['innerWidth']-_0x2d2653[_0x32b268(0xb7)]),_0x9ab11f[0x1]=canvasA[0x0][0x0][_0x32b268(0xef)]-_0x2d2653[_0x32b268(0xbd)],document[_0x32b268(0xc8)](_0x32b268(0xd0),_0x5341c4),document[_0x32b268(0x7a)]=async()=>{const _0x4645c7=_0x32b268;document[_0x4645c7(0xa7)](_0x4645c7(0xd0),_0x5341c4),document[_0x4645c7(0xc8)](_0x4645c7(0xd0),await DrawAllTemp);};function _0x5341c4(_0x1dab7a){const _0x529442=_0x32b268;resizeAllCanvass(window['innerWidth']-_0x1dab7a[_0x529442(0xb7)],_0x1dab7a['pageY'],_0x9ab11f);}};}
